\section{Market Ontology (market/ontology/)}
\label{Chapters/Implementation/Market-Ontology}
This module defines message types necessary in order to implement use cases  \textit{UC2-UC8}. All \texttt{Market Ontology} message types and fields are listed in \Cref{Appendix/Market-Ontology}.

In order to fulfil requirement \textit{N06}, message names and fields, including their documentation, are modelled after a subset of the \textit{Financial Information eXchange (FIX) protocol}~\cite{FIX5} for order management messages and \textit{BATS Multicast PITCH 2.X protocol}~\cite{BATSPITCH} for \textit{Level 2} market data feed (\Cref{Chapters/Background/Electronic-Communications-Protocols}). Both order management and market data feed messages in the \texttt{Market Ontology} use the same format (i.e. both message types extend \texttt{eugene.market.ontology.Message} class) and, where possible, message fields from \textit{BATS Multicast PITCH 2.X protocol} are substituted with message fields from \textit{Financial Information eXchange (FIX) protocol}.

The actual implementation of \texttt{Market Ontology} is loosely based on the \textit{QuickFIX/J} message classes~\cite{QUICKFIXJ}, but simplified accordingly. Porting \textit{QuickFIX/J} messages to \texttt{JADE} was attempted, however quickly abandoned as very time-consuming and without a guarantee of success. Implementing a simplified version of the \textit{QuickFIX/J} messages turned out to be much less involved. The task could, however, be attempted in the future, in which case the decision to keep the architecture similar presents itself as a clear advantage. 

In order to correctly deal with prices and explicitly manage the problem of rounding to the nearest tick, \textit{QuickFIX/J} messages use the \texttt{java.math.BigDecimal} class. However, \texttt{JADE} does not natively support serialising \texttt{java.math.BigDecimal} fields, therefore using those required implementing a new codec and thus a greater understanding of low-level details of \texttt{JADE}'s serialisation mechanism. Luckily, the problems were anticipated and appropriately planned for.