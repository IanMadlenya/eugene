\section{Vwap Agent (agent/vwap/)}
\label{Chapters/Implementation/Vwap-Agent}
The \texttt{Vwap Agent} is an implementation of the algorithm described in~\Cref{Chapters/Background/Vwap-Algorithm}. There are two implementations available, to facilitate the experiment for \textit{Null Hypothesis 1} (see~\Cref{Chapters/Introduction/Null-Hypothesis-1}), both hidden behind the \texttt{eugene.agent.vwap.VwapAgents} factory. The \texttt{Vwap Agent} implementations accept an implementation of the \\ \texttt{eugene.agent.vwap.VwapExecution} interface (an instance of which can be obtained from the \texttt{eugene.agent.vwap.VwapExecutions} factory), that specifies the quantity to trade, the side of the trade and the percentage volume targets for each time slot. Internally, using  the \texttt{eugene.agent.vwap.impl.VwapStatus} class hidden behind a private package, the duration of the simulation is divided into equal time slots (encapsulated by \texttt{eugene.agent.vwap.impl.VwapBucket} class) and the \texttt{Vwap Agent} starts trading. As described in~\Cref{Chapters/Background/Vwap-Algorithm}, the \texttt{Vwap Agent} submits a limit order at the appropriate price (depending on the implementation, see~\Cref{Chapters/Introduction/Null-Hypothesis-1}) and the order is monitored for 3 seconds. If after 3 seconds, the best price has moved and the current order is not filled, the current order is cancelled and a new limit order is submitted. When the execution is in the last 2 seconds of the current time slot and the current limit order is not filled, the current limit order is cancelled, and a market order is submitted for the remaining quantity.

The \texttt{Vwap Agent} uses the \texttt{Client API} (see~\Cref{Chapters/Implementation/Client-API}) to rebuild the \texttt{Order Book} (see~\Cref{Chapters/Implementation/Order-Book}) in order to track the current prices, as well as the \texttt{OrderReferenceListener} functionality in order to track the status of the current order.
